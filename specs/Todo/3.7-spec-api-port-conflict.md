# 3.7 Specification: API Port Conflict Resolution

## Bug Description

The GraphRAG API server is configured to use port 5000 by default, which conflicts with other common applications on macOS (such as Control Center). This causes the API server to fail to start with an "Address already in use" error.

## Requirements

1. Change the default API port to avoid common conflicts
2. Ensure all scripts and configuration files use the new default port
3. Make the port configurable through environment variables

## Implementation Details

1. **Configuration Updates**:
   - Change the default API port from 5000 to 5001 in all configuration files
   - Update the `.env` file to include `GRAPHRAG_API_PORT=5001`
   - Update the `config.env` file to include the same setting

2. **Script Updates**:
   - Update all scripts that start the API server to use the environment variable
   - Add fallback to the new default port if the environment variable is not set
   - Add port conflict detection and suggestions for alternative ports

3. **Documentation Updates**:
   - Update all documentation to reference the new default port
   - Add a troubleshooting section for port conflicts
   - Document how to change the port if needed

## Acceptance Criteria

1. The API server starts successfully on port 5001 by default
2. The port can be configured through the `GRAPHRAG_API_PORT` environment variable
3. All scripts and configuration files use the new default port
4. Documentation is updated to reflect the changes

## Notes

- This change will require users to update their client configurations
- Consider providing a migration guide for users who have scripts that rely on port 5000
- Ensure Docker configurations are updated to use the new default port